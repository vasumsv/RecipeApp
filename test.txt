 @Test
    public void testGetPaymentLinesFromPaymentReferences() {
        // Mock dependencies
        FileProcessingService fileProcessingService = Mockito.mock(FileProcessingService.class);
        CashAllocationRepositoryApi cashAllocationRepositoryApi = Mockito.mock(CashAllocationRepositoryApi.class);
        KafkaTemplate<String, String> kafkaTemplate = Mockito.mock(KafkaTemplate.class);
        InvoiceServiceApi invoiceServiceApi = Mockito.mock(InvoiceServiceApi.class);
        ReferentialServiceApi referentialServiceApi = Mockito.mock(ReferentialServiceApi.class);
        SrMapper srMapper = Mockito.mock(SrMapper.class);
        PaymentRepository paymentRepository = Mockito.mock(PaymentRepository.class);
        MessageUtility messageUtility = Mockito.mock(MessageUtility.class);

        // Create an instance of CashAllocationDomain with mocked dependencies
        CashAllocationDomain cashAllocationDomain = new CashAllocationDomain(
                fileProcessingService,
                cashAllocationRepositoryApi,
                kafkaTemplate,
                invoiceServiceApi,
                referentialServiceApi,
                srMapper,
                paymentRepository,
                messageUtility
        );

        // Create a list of payment references
        List<String> paymentReferences = new ArrayList<>();
        paymentReferences.add("reference1");
        paymentReferences.add("reference2");

        // Mock the PaymentLineModel list to be returned by cashAllocationRepositoryApi
        List<PaymentLineModel> paymentLineModels = new ArrayList<>();
        PaymentLineModel model1 = new PaymentLineModel();
        model1.setProviderId("provider1");
        model1.setCurrency("USD");
        model1.setEntity("entity1");
        model1.setInvoiceReference("invoice1");
        model1.setProviderName("providerName1");
        model1.setAccountNumber("account1");
        model1.setSslDetails("sslDetails1");
        model1.setCategory("category1");
        model1.setValueDate("2023-10-26");
        model1.setSendingDate("2023-10-25");
        model1.setAmount(100.0);
        model1.setPaymentType("type1");
        model1.setDirection("direction1");
        model1.setPaymentState("state1");
        model1.setPaymentType("paymentType1");
        model1.setComment("comment1");
        paymentLineModels.add(model1);

        PaymentLineModel model2 = new PaymentLineModel();
        model2.setProviderId("provider2");
        model2.setCurrency("EUR");
        model2.setEntity("entity2");
        model2.setInvoiceReference("invoice2");
        model2.setProviderName("providerName2");
        model2.setAccountNumber("account2");
        model2.setSslDetails("sslDetails2");
        model2.setCategory("category2");
        model2.setValueDate("2023-10-27");
        model2.setSendingDate("2023-10-26");
        model2.setAmount(200.0);
        model2.setPaymentType("type2");
        model2.setDirection("direction2");
        model2.setPaymentState("state2");
        model2.setPaymentType("paymentType2");
        model2.setComment("comment2");
        paymentLineModels.add(model2);

        Mockito.when(cashAllocationRepositoryApi.findPaymentLinesFromPaymentReferences(paymentReferences)).thenReturn(paymentLineModels);

        // Call the method under test
        List<PaymentLineModel> result = cashAllocationDomain.getPaymentLinesFromPaymentReferences(paymentReferences);

        // Assert that the result is not null and has the same size as the mocked list
        assertEquals(2, result.size());

        // You can add more assertions to check the values of the PaymentLineModel objects in the result if needed
    }